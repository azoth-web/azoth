<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ðŸ’Ž diamond</title>
</head>
<body>
	<main id="app">
		<h1>hello ðŸ’Ž diamond</h1>
		<section id='planets'></section>
		<section id='asteroids'></section>
	</main>
	
	<template id='template'>
		<ul data-bind>
			{{#for items}}
			<li>
				<div class="view">
					<span class="toggle">{{done}}</span>
					<label>{{name}}</label>
					<button class="destroy"></button>
				</div>
			</li>
			{{/for}}
		</ul>
	</template>
	
	<script src='../diamond.js'></script>
	<script src='./planets.js'></script>
	<script>
		var parser = Diamond.parser;
		
		new Diamond({
			el: document.getElementById( 'planets' ),
			template: parser( `
					<h1>planets...</h1>
					<ul>
						{{#for planets}}
						<li>{{planet}}</li>
						{{/for}}
					</ul>`, { live: true } ),
			data: {
				planets
			}
		});
		
		self.fetch( 'http://www.asterank.com/api/mpc' )
			.then( r => r.json() )
			.then( asteroids => {
				new Diamond({
					el: document.getElementById( 'asteroids' ),
					template: parser( `
							<h2>minor planets...</h2>
							<ul>
								{{#for asteroids}}
								<li>{{readable_des}} </li>
								{{/for}}
							</ul>`, { live: true } ),
					data: {
						asteroids
					}
				});
			})
			.catch( err => console.error );
	

	</script>
	
</body>
</html>
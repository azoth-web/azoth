!function(){"use strict";function n(t){return n.section(t)}function t(n,t){for(var r,o=0,i=t.length;i>o;o++)r=t[o],r instanceof d&&(r=e(r)),n.appendChild(r)}function e(n){var t=n.node();return t._binding=n,t}function r(n,t){function e(n,t){if(t)for(var o,i,u,c,d=n.childNodes,a=0,f=t.length;f>a;a++){if(o=t[a],c=o.bindings,i=o.index||0,u=d[i],c)for(var p=0,s=c.length;s>p;p++)r.push({binding:c[p],node:u,parent:n,index:i});e(u,o.children)}}var r=[];return e(n,t),r}function o(n){if(n){var t=n.length;if(t){for(var e,r,i,u,c,d=0;t>d;d++)r=n[d],i=null,u=o(Array.isArray(r)?r:r.childNodes),u&&(i={children:u}),c=r._binding,c&&(i=i||{},i.bindings=[c],delete r._binding),i&&(d&&(i.index=d),e=e||[],e.push(i));return e&&e.length?e:null}}}function i(n,t){for(var e,r=0,o=n.length;o>r;r++)e=n[r],e.binding.bind(t,e)}function u(n,t){return u.section(n,t)}var c=function(n){this.data=n};c.prototype.get=function(n){return"."===n?this.data:this.data[n]};var d=function(n){this.binding=n};n.section=function(n){var e=document.createDocumentFragment();return t(e,n),e},n.text=function(n){return document.createTextNode(n)},n.comment=function(n){return document.createComment(n)},n.el=function(n,e){var r=document.createElement(n);return t(r,e),r};var a=function(n,t){void 0===t&&(t=o(n.childNodes)),this.fragment=n,this.bindingTree=t};a.prototype.node=function(){return document.createDocumentFragment()},a.prototype.render=function(){var n=this.fragment.cloneNode(!0),t=r(n,this.bindingTree);return{node:n,queue:t}};var f=function(){};f.prototype.bind=function(n,t,e){var r=n.get(t.ref);if(Array.isArray(r))for(var o=0,i=r.length;i>o;o++)e(new c(r[o]))};var p=function(){};p.prototype.bind=function(n,t,e){var r=n.get(t.ref);r&&e(n)};var s=function(){};s.prototype.bind=function(n,t,e){var r=n.get(t.ref);null!=r&&e(new c(r))};var g={"for":f,"if":p,"with":s},l=function(t){function e(n,e){t.call(this,n),this.template=new a(e.fragment,e.bindingTree);var r=g[n.type];if(!r)throw new Error("Unrecognized section type "+n.type);this.block=new r}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.node=function(){return n.comment(this.binding.type)},e.prototype.bind=function(n,t){function e(n){var t=o.render(),e=t.queue,u=t.node;i(e,n),r.parentNode.insertBefore(u,r)}var r=t.node,o=this.template;this.block.bind(n,this.binding,e)},e}(d),h=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.node=function(){return n.text("")},e.prototype.bind=function(n,t){t.node.textContent=n.get(this.binding.ref)},e}(d);u.text=function(n){return new h(n)},u.section=function(n,t){return new l(n,t)};var m={type:"dom",$tatic:n,bound:u,getTemplate:function(n,t){return new a(n,t)}},v=function(n){var t=n.template,e=n.data,r=n.el,o=t.fragment,u=t.bindingTree,d=m.getTemplate(o,u),a=d.render(),f=a.queue,p=a.node,s=new c(e);i(f,s),r.appendChild(p)};v.dom=m,self.Diamond=v}();
//# sourceMappingURL=diamond.min.js.map
